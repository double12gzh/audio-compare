# TTS 音频验收工具示例配置文件
# 展示如何自定义各种参数

# 音频处理配置
audio:
  default_sample_rate: 44100  # 提高采样率以获得更好的音质
  n_fft: 4096                 # 增加FFT窗口大小以提高频率分辨率
  hop_length: 1024            # 增加跳跃长度以减少计算量
  win_length: 4096
  n_mels: 256                 # 增加Mel滤波器组数量
  fmin: 20                    # 设置最小频率
  fmax: 8000                  # 设置最大频率
  n_mfcc: 20                  # 增加MFCC系数数量
  dct_type: 2
  norm: "ortho"
  spectral_rolloff_percentile: 0.9  # 提高滚降百分位数

# 可视化配置
visualization:
  waveform_height: 500        # 增加波形图高度
  spectrogram_height: 500     # 增加频谱图高度
  comparison_height: 700      # 增加对比图高度
  waveform_color: "#2E86AB"   # 自定义颜色
  comparison_color1: "#2E86AB"
  comparison_color2: "#A23B72"
  mel_colorscale: "Plasma"    # 更改颜色映射
  mfcc_colorscale: "RdBu_r"
  title_font_size: 18         # 增加字体大小
  axis_font_size: 14

# 相似度计算配置
similarity:
  correlation_threshold: 0.9   # 提高相关性阈值
  mse_threshold: 0.005        # 降低MSE阈值
  snr_threshold: 25.0         # 提高SNR阈值

# 文件处理配置
file:
  supported_formats:
    - "wav"
    - "mp3"
    - "flac"
    - "ogg"
    - "m4a"
    - "aac"                   # 添加AAC格式支持
  max_file_size: 200          # 增加最大文件大小到200MB
  max_batch_files: 100        # 增加最大批量文件数到100
  temp_dir: "/tmp/audio_compare"  # 指定临时目录

# 界面配置
ui:
  page_title: "高级TTS音频验收工具"
  page_icon: "🎼"
  layout: "wide"
  initial_sidebar_state: "collapsed"  # 默认收起侧边栏
  theme:
    primaryColor: "#2E86AB"
    backgroundColor: "#f8f9fa"
    secondaryBackgroundColor: "#e9ecef"
    textColor: "#212529"

# 特征配置
feature:
  basic_features:
    - "duration"
    - "rms"
    - "zero_crossing_rate"
    - "spectral_centroid"     # 添加更多基本特征
  spectral_features:
    - "spectral_centroid"
    - "spectral_bandwidth"
    - "spectral_rolloff"
    - "spectral_contrast"
    - "spectral_flatness"
    - "spectral_bandwidth"    # 添加更多频谱特征
  mfcc_features:
    - "mfcc_mean"
    - "mfcc_std"
    - "mfcc_delta"
    - "mfcc_delta2"
    - "mfcc_energy"           # 添加MFCC能量特征
  rhythm_features:
    - "tempo"
    - "beat_frames"
    - "onset_strength"
    - "rhythm_pattern"        # 添加节奏模式特征

# 导出配置
export:
  csv_encoding: "utf-8-sig"   # 使用带BOM的UTF-8编码
  csv_separator: ";"          # 使用分号分隔符
  chart_format: "svg"         # 使用SVG格式以获得更好的质量
  chart_scale: 3              # 增加图表缩放比例
  report_template: "markdown" # 使用Markdown格式

# 应用全局配置
app:
  audio_root: "/Users/audio_data"  # 自定义音频根目录
  debug_mode: true                 # 启用调试模式
  log_level: "DEBUG"               # 设置日志级别为DEBUG
  server:
    port: 8502                     # 更改端口
    host: "0.0.0.0"               # 允许外部访问
    enable_cors: true
    enable_xsrf_protection: false  # 禁用XSRF保护（仅用于开发）
  cache:
    max_size: 200                  # 增加缓存大小
    ttl: 7200                     # 增加缓存时间到2小时 